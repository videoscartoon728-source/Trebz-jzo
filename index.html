<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dodge The Blocks Game</title>
<style>
  body{
    margin:0;
    background:#111;
    display:flex;
    justify-content:center;
    align-items:center;
    height:100vh;
    overflow:hidden;
    color:white;
    font-family:'Poppins',sans-serif;
  }
  canvas{
    border:3px solid #0ff;
    background:#222;
    display:block;
  }
  #score{
    position:absolute;
    top:20px;
    font-size:1.5rem;
    left:50%;
    transform:translateX(-50%);
    color:#0ff;
  }
  #gameOver{
    position:absolute;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%);
    font-size:2rem;
    display:none;
    color:#ff0;
    text-align:center;
  }
  #restart{
    margin-top:20px;
    padding:10px 20px;
    background:#0ff;
    border:none;
    color:#111;
    font-size:1rem;
    cursor:pointer;
    border-radius:10px;
  }
</style>
</head>
<body>
<div id="score">Score: 0</div>
<div id="gameOver">
  Game Over<br>
  <button id="restart">Restart</button>
</div>
<canvas id="gameCanvas" width="500" height="600"></canvas>

<script>
const canvas=document.getElementById('gameCanvas');
const ctx=canvas.getContext('2d');

let player={x:225,y:550,width:50,height:50,color:'#0ff',speed:7};
let obstacles=[];
let keys={};
let score=0;
let gameOver=false;

// Player movement
document.addEventListener('keydown',e=>{keys[e.key]=true;});
document.addEventListener('keyup',e=>{keys[e.key]=false;});

// Restart
document.getElementById('restart').addEventListener('click',()=>{
  obstacles=[];
  score=0;
  player.x=225;
  player.y=550;
  gameOver=false;
  document.getElementById('gameOver').style.display='none';
  requestAnimationFrame(gameLoop);
});

// Obstacle creation
function createObstacle(){
  const width=Math.random()*50+20;
  obstacles.push({
    x:Math.random()*(canvas.width-width),
    y:-20,
    width:width,
    height:20,
    color:`hsl(${Math.random()*360},100%,50%)`,
    speed:Math.random()*3+2
  });
}
setInterval(()=>{if(!gameOver) createObstacle();},1000);

// Game loop
function gameLoop(){
  if(gameOver) return;
  ctx.clearRect(0,0,canvas.width,canvas.height);

  // Move player
  if(keys['ArrowLeft'] && player.x>0) player.x-=player.speed;
  if(keys['ArrowRight'] && player.x+player.width<canvas.width) player.x+=player.speed;

  // Draw player
  ctx.fillStyle=player.color;
  ctx.fillRect(player.x,player.y,player.width,player.height);

  // Move obstacles
  obstacles.forEach((obs,i)=>{
    obs.y+=obs.speed;
    ctx.fillStyle=obs.color;
    ctx.fillRect(obs.x,obs.y,obs.width,obs.height);

    // Collision
    if(player.x<obs.x+obs.width && player.x+player.width>obs.x &&
       player.y<obs.y+obs.height && player.y+player.height>obs.y){
         gameOver=true;
         document.getElementById('gameOver').style.display='block';
    }

    // Remove passed obstacles
    if(obs.y>canvas.height) obstacles.splice(i,1);
  });

  // Update score
  score++;
  document.getElementById('score').innerText='Score: '+score;

  requestAnimationFrame(gameLoop);
}

gameLoop();
</script>
</body>
</html>
